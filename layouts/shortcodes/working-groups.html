<!-- 
  Copyright (c) 2020 Eclipse Foundation, Inc.

  This program and the accompanying materials are made available under the
  terms of the Eclipse Public License v. 2.0 which is available at
  http://www.eclipse.org/legal/epl-2.0.

  Contributors:
    Martin Lowe <martin.lowe@eclipse-foundation.org>

  SPDX-License-Identifier: EPL-2.0
-->

<div class="working-groups-container">
  {{ range .Site.Data.working_groups.groups }}
  <div class="working-group margin-bottom-30">
    <h2 id="{{ .name | urlize }}">{{ .name | title }}</h2>
    <p>{{ .description }}</p>
    <div class="container margin-top-30 margin-bottom-30">
      <div class="row text-center">
        {{ $chairs := .chairs }}
        {{ range .chairs }}
        {{if eq (len $chairs) 1}}
        <div class="col-xs-24 col-sm-24 match-height-item-row">
        {{else}}
        <div class="col-xs-24 col-sm-12 match-height-item-row">
        {{end}}
          <p>{{ .name }}</p>
          <p><strong>{{ .position }}</strong></p>
          <p><em>{{ .company }}</em></p>
          {{ if .linkedin }}
          <p>
            <a class="btn btn-primary btn-sm" href="{{ .linkedin }}" target="_blank">
              <i class="fa fa-linkedin margin-right-10"></i>&nbsp;Follow {{ .name }} on LinkedIn
            </a>
          </p>
          {{ end }}
        </div>
        {{ end }}
      </div>
      {{ if .mailingListAnchor }}
      <div class="row text-center margin-top-20">
        <p>You can join the <a href="{{ .mailingListAnchor }}">{{ .mailingList }}</a>.
      </div>
      {{ end }}
    </div>
    <!-- Render task groups if they exist -->
    {{ if and (.task_groups) (gt (len .task_groups) 0) }}
      <h3>Task groups</h3>
      {{ range .task_groups }}
      <div class="task-group margin-bottom-20">
        <h4 id="{{ .name | urlize }}">{{ .name | title }}</h4>
        {{ .description | safeHTML }}
          <div class="container margin-top-30 margin-bottom-50">
            <div class="row text-center">
              {{ range .chairs }}
              <div class="col-xs-24 col-sm-12 match-height-item-row">
                <p>{{ .name }}</p>
                <p><strong>{{ .position }}</strong></p>
                <p><em>{{ .company }}</em></p>
                {{ if .linkedin }}
                <p>
                   <a class="btn btn-primary btn-sm" href="{{ .linkedin }}" target="_blank">
                     <i class="fa fa-linkedin margin-right-10"></i>&nbsp;Follow {{ .name }} on LinkedIn
                   </a>
                </p>
                {{ end }} 
              </div>
              {{ end }}
            </div>
            {{ if .mailingListAnchor }}
            <div class="row text-center margin-top-20">
              <p>You can join the <a href="{{ .mailingListAnchor }}">{{ .mailingList }}</a>.
            </div>
            {{ end }}
          </div>
      </div>
      {{ end }}
    {{ end }}
  </div>
  {{ end }}
</div>
